(function(t){function e(e){for(var n,a,i=e[0],r=e[1],u=e[2],l=0,p=[];l<i.length;l++)a=i[l],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&p.push(c[a][0]),c[a]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);d&&d(e);while(p.length)p.shift()();return s.push.apply(s,u||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],n=!0,i=1;i<o.length;i++){var r=o[i];0!==c[r]&&(n=!1)}n&&(s.splice(e--,1),t=a(a.s=o[0]))}return t}var n={},c={app:0},s=[];function a(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=n,a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(o,n,function(e){return t[e]}.bind(null,n));return o},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/notes/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],r=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var d=r;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"0453":function(t,e,o){"use strict";o("9278")},"083c":function(t,e,o){},"20d3":function(t,e,o){"use strict";o("e89c")},"21e4":function(t,e,o){"use strict";o("ca65")},"339c":function(t,e,o){},4365:function(t,e,o){},"4a93":function(t,e,o){},"4daa":function(t,e,o){"use strict";o("4a93")},"50ff":function(t,e,o){"use strict";o("842b")},"56d7":function(t,e,o){"use strict";o.r(e);o("e9f5"),o("7d54");var n=o("7a23"),c=o("ad3d"),s=o("ecee"),a=o("c074"),i=[];const r={class:"app",id:"app"};function u(t,e,o,c,s,a){const i=Object(n["p"])("app-header"),u=Object(n["p"])("note-list"),d=Object(n["p"])("note-button");return Object(n["m"])(),Object(n["e"])("div",r,[Object(n["g"])(i),Object(n["g"])(u),Object(n["g"])(d),Object(n["g"])(d)])}function d(t,e,o,c,s,a){return Object(n["m"])(),Object(n["e"])("div",null,[Object(n["f"])("button",{class:"button",onClick:e[0]||(e[0]=(...t)=>a.createNote&&a.createNote(...t))},"+")])}var l={name:"note-button",methods:{createNote(){this.$store.dispatch("note/addNote")}}},p=(o("bbfa"),o("6b0d")),b=o.n(p);const m=b()(l,[["render",d],["__scopeId","data-v-3b56bddc"]]);var f=m;const h={class:"note__list"};function O(t,e,o,c,s,a){const i=Object(n["p"])("note-item");return Object(n["m"])(),Object(n["e"])("div",h,[(Object(n["m"])(!0),Object(n["e"])(n["a"],null,Object(n["o"])(this.$store.state.note.notes,t=>(Object(n["m"])(),Object(n["d"])(i,{key:t.id,note:t},null,8,["note"]))),128))])}const v={class:"note"};function j(t,e,o,c,s,a){const i=Object(n["p"])("note-view"),r=Object(n["p"])("note-form");return Object(n["m"])(),Object(n["e"])("div",v,[Object(n["t"])(Object(n["g"])(i,{class:"note-item",note:o.note,onMousedown:a.setHoldTime,onMouseup:a.clearTimer},null,8,["note","onMousedown","onMouseup"]),[[n["r"],!o.note.noteStatus]]),Object(n["t"])(Object(n["g"])(r,{class:"note-item",note:o.note},null,8,["note"]),[[n["r"],o.note.noteStatus]])])}const _={class:"note-view__title"},g={class:"note-view__body"};function N(t,e,o,c,s,a){const i=Object(n["p"])("burger-menu");return Object(n["m"])(),Object(n["e"])("div",{class:"note-view",onClick:e[0]||(e[0]=(...e)=>t.showNoteEdit&&t.showNoteEdit(...e))},[Object(n["g"])(i,{note:this.note},null,8,["note"]),Object(n["f"])("h2",_,Object(n["q"])(o.note.title),1),Object(n["f"])("p",g,Object(n["q"])(o.note.body),1)])}function y(t,e,o,c,s,a){const i=Object(n["p"])("fa");return Object(n["m"])(),Object(n["e"])("div",{class:"kebab",onClick:e[1]||(e[1]=(...t)=>a.toggleActive&&a.toggleActive(...t))},[Object(n["g"])(i,{class:"kebab-icon",icon:"ellipsis-v"}),Object(n["f"])("ul",{class:Object(n["l"])(["dropdown",{inactive:s.isActive}])},[Object(n["f"])("li",null,[Object(n["f"])("a",{onClick:e[0]||(e[0]=(...t)=>a.deleteNote&&a.deleteNote(...t))},"Delete")])],2)])}var T={name:"burgerMenu",props:{note:{type:Object}},data(){return{isActive:!0}},methods:{deleteNote(){this.$store.dispatch("note/deleteNote",this.note)},toggleActive(){this.isActive=!this.isActive}}};o("6455");const I=b()(T,[["render",y],["__scopeId","data-v-321cfd0a"]]);var E=I,S={name:"note-view",components:{BurgerMenu:E},props:{note:{type:Object}},methods:{deleteNote(){this.$store.dispatch("note/deleteNote",this.note)},setEdit(){this.$store.dispatch("note/changeNoteStatus"),document.addEventListener("click",this.outsideClickListener)},outsideClickListener(t){const e=t.target;!1!==this.$el.contains(e)||this.noteStatus||this.onSubmit()}}};o("5ab7");const w=b()(S,[["render",N],["__scopeId","data-v-ca293f8e"]]);var D=w;const A={class:"note-form"};function x(t,e,o,c,s,a){const i=Object(n["p"])("burger-menu"),r=Object(n["p"])("my-input"),u=Object(n["p"])("my-text-area");return Object(n["m"])(),Object(n["e"])("div",A,[Object(n["g"])(i,{note:this.note,class:"note-form__burger"},null,8,["note"]),Object(n["g"])(r,{class:"note-form__title",type:"text",placeholder:"Заголовок  заметки",value:this.noteForm.title,onInput:a.updateNoteFormTitle},null,8,["value","onInput"]),Object(n["g"])(u,{class:"note-form__body",type:"text",placeholder:"Тело заметки",value:this.noteForm.body,onInput:a.updateNoteFormBody},null,8,["value","onInput"])])}const k={class:"my-input"},F=["value"];function M(t,e,o,c,s,a){return Object(n["m"])(),Object(n["e"])("div",k,[Object(n["f"])("input",{value:o.modelValue,onInput:e[0]||(e[0]=(...t)=>a.updateInput&&a.updateInput(...t)),class:"my-input__field",type:"text",placeholder:"Заголовок"},null,40,F)])}var $={name:"my-input",props:{modelValue:[String,Number]},methods:{updateInput(t){this.$emit("update:modelValue",t.target.value)}}};o("4daa");const P=b()($,[["render",M],["__scopeId","data-v-610f4911"]]);var V=P;const B={class:"my-text-area"},L=["value"];function C(t,e,o,c,s,a){return Object(n["m"])(),Object(n["e"])("div",B,[Object(n["f"])("input",{value:o.modelValue,onInput:e[0]||(e[0]=(...t)=>a.updateInput&&a.updateInput(...t)),class:"my-text-area__field",type:"text",placeholder:"Тело заметки"},null,40,L)])}var U={name:"my-text-area",props:{modelValue:[String,Number]},methods:{updateInput(t){this.$emit("update:modelValue",t.target.value)}}};o("21e4");const H=b()(U,[["render",C],["__scopeId","data-v-0b865c94"]]);var R=H,J={name:"note-form",components:{MyTextArea:R,BurgerMenu:E,MyInput:V},props:{note:{type:Object}},data(){return{myInputValue:"",noteForm:{title:"",body:""}}},methods:{updateNoteFormTitle(t){this.$store.dispatch("note/updateNoteFormTitle",{event:t,note:this.note})},updateNoteFormBody(t){this.$store.dispatch("note/updateNoteFormBody",{event:t,note:this.note})}},computed:{}};o("afab");const q=b()(J,[["render",x],["__scopeId","data-v-0e238cfa"]]);var G=q,K={components:{NoteForm:G,NoteView:D},props:{note:{type:Object}},data(){return{holdStart:0,holdTime:0,timerId:null}},methods:{setHoldTime(){this.holdStart=Date.now(),this.timerId=setInterval(this.computeHoldTime)},clearTimer(){clearInterval(this.timerId)},computeHoldTime(){this.holdTime=Date.now()-this.holdStart,this.setForm()},setForm(){this.holdTime>=750&&!1===this.note.noteStatus&&(this.$store.dispatch("note/changeNoteStatus",this.note),clearInterval(this.timerId))},setView(){document.addEventListener("click",t=>{let e=t.target,o=this.$el;o.contains(e)||!0!==this.note.noteStatus||this.$store.dispatch("note/changeNoteStatus",this.note)})},updateNote(){this.$store.dispatch("note/updateNote",this.note)}},mounted(){this.setView()},updated(){this.updateNote()}};o("20d3");const Y=b()(K,[["render",j],["__scopeId","data-v-056de3a8"]]);var z=Y,Q={components:{NoteItem:z},name:"note-list"};o("0453");const W=b()(Q,[["render",O],["__scopeId","data-v-1a74aa71"]]);var X=W;const Z={class:"header"},tt={class:"header-icons"};function et(t,e,o,c,s,a){const i=Object(n["p"])("fa");return Object(n["m"])(),Object(n["e"])("header",Z,[Object(n["f"])("div",tt,[Object(n["g"])(i,{class:"header-icons__icon",icon:"sticky-note"}),Object(n["g"])(i,{class:"header-icons__icon",icon:"check-square"})])])}var ot={name:"app-header"};o("50ff");const nt=b()(ot,[["render",et],["__scopeId","data-v-b2cb57dc"]]);var ct=nt,st={components:{AppHeader:ct,NoteButton:f,NoteList:X},data(){return{}},methods:{}};o("b0c7");const at=b()(st,[["render",u]]);var it=at,rt=o("5502");o("14d9");const ut={namespaced:!0,state:()=>({notes:[],noteEdit:{id:Date.now(),title:"noteEdit.title",body:"noteEdit.title",noteStatus:!1}}),getters:{},mutations:{ADD_NOTE(t,e){t.notes.push(e)},UPDATE_NOTE(t,e){const o=t.notes.findIndex(t=>t.id===e.id);t.notes[o]=e},UPDATE_NOTE_FORM_TITLE(t,e){const o=t.notes.findIndex(t=>t.id===e.note.id);t.notes[o].title=e.event.target.value},UPDATE_NOTE_FORM_BODY(t,e){const o=t.notes.findIndex(t=>t.id===e.note.id);t.notes[o].body=e.event.target.value},DELETE_NOTE(t,e){const o=t.notes.findIndex(t=>t===e);t.notes.splice(o,1),console.log("sss")},CHANGE__NOTE_STATUS(t,e){const o=t.notes.findIndex(t=>t.id===e.id);t.notes[o].noteStatus=!t.notes[o].noteStatus}},actions:{addNote({commit:t}){t("ADD_NOTE",{id:Date.now(),title:"Заголовок заметки",body:"Тело заметки",noteStatus:!1})},updateNote({commit:t},e){t("UPDATE_NOTE",e)},updateNoteFormTitle({commit:t},e){t("UPDATE_NOTE_FORM_TITLE",e)},updateNoteFormBody({commit:t},e){t("UPDATE_NOTE_FORM_BODY",e)},deleteNote({commit:t},e){t("DELETE_NOTE",e)},changeNoteStatus({commit:t},e){t("CHANGE__NOTE_STATUS",e)}}},dt={namespaced:!0,state:()=>({isDark:!1}),mutations:{SET_IS_DARK(t,e){t.isDark=e}},actions:{toggleTheme({commit:t,state:e}){t("SET_IS_DARK",!e.isDark)}}},lt=t=>{t.state.note.notes=JSON.parse(window.localStorage.getItem("notes"))||[{id:Date.now(),title:"Заголовок заметки",body:"Тело заметки",noteStatus:!1}],t.subscribe(()=>{window.localStorage.setItem("notes",JSON.stringify(t.state.note.notes))})};var pt=Object(rt["a"])({modules:{note:ut,application:dt},plugins:[lt]});s["c"].add(a["a"]);const bt=Object(n["c"])(it).use(pt);i.forEach(t=>{bt.component(t.name,t)}),bt.component("fa",c["a"]).mount("#app")},"5ab7":function(t,e,o){"use strict";o("a8b0")},6455:function(t,e,o){"use strict";o("4365")},"842b":function(t,e,o){},9278:function(t,e,o){},a8b0:function(t,e,o){},afab:function(t,e,o){"use strict";o("cae2")},b0c7:function(t,e,o){"use strict";o("339c")},bbfa:function(t,e,o){"use strict";o("083c")},ca65:function(t,e,o){},cae2:function(t,e,o){},e89c:function(t,e,o){}});
//# sourceMappingURL=app.525e9732.js.map